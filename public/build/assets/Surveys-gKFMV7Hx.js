import{r as w,k,c as n,b as g,u as y,h as S,w as h,d as t,l as _,e as j,m as M,p as C,v as B,j as u,t as r,f as i,F as p,g as D,i as c,q as m}from"./app-DujJ4Qrm.js";import{_ as N}from"./AdminLayout-Chd_PJP9.js";const T={class:"py-8"},V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},A={class:"mb-8 flex items-center justify-between"},z={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"},O={class:"flex-1"},P={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},$={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},q={class:"text-sm text-gray-500"},F={key:0,class:"divide-y divide-gray-200"},H={class:"flex items-start justify-between"},L={class:"flex items-start gap-4 flex-1"},U={class:"flex-1 min-w-0"},E={class:"flex items-center gap-3 flex-wrap mb-2"},G={class:"text-lg font-semibold text-gray-900"},Q={key:0,class:"text-sm text-gray-600 mb-2 line-clamp-2"},I={key:1,class:"mt-2"},J={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-full"},K={class:"text-right ml-4"},R={class:"text-sm text-gray-500"},W={key:1,class:"px-6 py-12 text-center text-gray-500"},X={class:"text-sm mt-1"},Y={key:2,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},Z={class:"text-sm text-gray-700"},tt={class:"flex gap-2"},et=["disabled"],at={class:"px-4 py-2 text-sm font-medium text-gray-700"},st=["disabled"],it={__name:"Surveys",props:{surveys:Array,pagination:Object,filters:Object,auth:Object},setup(e){const l=w(e.filters?.search||""),f=o=>o?new Date(o).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A";let d=null;const b=o=>{d&&clearTimeout(d),d=setTimeout(()=>{m.get("/admin/surveys",{search:o},{preserveState:!0,replace:!0})},500)};k(l,o=>{b(o)});const v=o=>{o.preventDefault(),d&&clearTimeout(d),m.get("/admin/surveys",{search:l.value},{preserveState:!0,replace:!0})},x=o=>{m.get("/admin/surveys",{search:l.value,page:o},{preserveState:!0})};return(o,a)=>(i(),n(p,null,[g(y(S),{title:"Surveys - Admin"}),g(N,{user:e.auth?.user,title:"Surveys Management"},{default:h(()=>[t("div",T,[t("div",V,[t("div",A,[a[4]||(a[4]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Surveys"),t("p",{class:"mt-2 text-gray-600"},"Manage all platform surveys")],-1)),g(y(_),{href:"/admin/dashboard",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:h(()=>[...a[3]||(a[3]=[j(" â† Back to Dashboard ",-1)])]),_:1})]),t("div",z,[t("form",{onSubmit:M(v,["prevent"]),class:"flex gap-4"},[t("div",O,[C(t("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),type:"text",placeholder:"Search surveys by title or description...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[B,l.value]])]),a[5]||(a[5]=t("button",{type:"submit",class:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors font-medium"}," Search ",-1))],32)]),t("div",P,[t("div",$,[a[6]||(a[6]=t("h2",{class:"text-lg font-semibold text-gray-900"}," All Surveys ",-1)),t("span",q," Showing "+r(e.pagination?.from||0)+" to "+r(e.pagination?.to||0)+" of "+r(e.pagination?.total||0)+" surveys ",1)]),e.surveys&&e.surveys.length>0?(i(),n("div",F,[(i(!0),n(p,null,D(e.surveys,s=>(i(),n("div",{key:s.id,class:"px-6 py-4 hover:bg-gray-50 transition-colors"},[t("div",H,[t("div",L,[a[7]||(a[7]=t("div",{class:"w-12 h-12 bg-gradient-to-br from-pink-500 to-rose-500 rounded-lg flex items-center justify-center text-white flex-shrink-0"},[t("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),t("div",U,[t("div",E,[t("p",G,r(s.title||"Untitled Survey"),1),t("span",{class:c(["px-2 py-1 text-xs font-medium rounded-full",s.status==="active"?"bg-green-100 text-green-700":s.status==="draft"?"bg-yellow-100 text-yellow-700":(s.status==="closed","bg-gray-100 text-gray-700")])},r(s.status||"unknown"),3)]),s.description?(i(),n("p",Q,r(s.description),1)):u("",!0),s.organization?(i(),n("div",I,[t("span",J,r(s.organization.name),1)])):u("",!0)])]),t("div",K,[t("p",R," Created: "+r(f(s.created_at)),1)])])]))),128))])):(i(),n("div",W,[a[8]||(a[8]=t("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),a[9]||(a[9]=t("p",{class:"text-lg font-medium"},"No surveys found",-1)),t("p",X,r(l.value?"Try adjusting your search query":"Surveys will appear here once they are created"),1)])),e.pagination&&e.pagination.last_page>1?(i(),n("div",Y,[t("div",Z," Showing "+r(e.pagination.from)+" to "+r(e.pagination.to)+" of "+r(e.pagination.total)+" results ",1),t("div",tt,[t("button",{onClick:a[1]||(a[1]=s=>x(e.pagination.current_page-1)),disabled:e.pagination.current_page===1,class:c(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",e.pagination.current_page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])}," Previous ",10,et),t("span",at," Page "+r(e.pagination.current_page)+" of "+r(e.pagination.last_page),1),t("button",{onClick:a[2]||(a[2]=s=>x(e.pagination.current_page+1)),disabled:e.pagination.current_page===e.pagination.last_page,class:c(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",e.pagination.current_page===e.pagination.last_page?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])}," Next ",10,st)])])):u("",!0)])])])]),_:1},8,["user"])],64))}};export{it as default};
