import{r as w,k as _,c as r,b as c,u as y,h as k,w as h,d as t,l as C,e as j,m as S,p as D,v as N,j as g,t as o,f as i,F as f,g as T,i as u,q as m}from"./app-DujJ4Qrm.js";import{_ as B}from"./AdminLayout-Chd_PJP9.js";const M={class:"py-8"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},A={class:"mb-8 flex items-center justify-between"},V={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"},O={class:"flex-1"},P={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},U={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},$={class:"text-sm text-gray-500"},q={key:0,class:"divide-y divide-gray-200"},F={class:"flex items-center justify-between"},L={class:"flex items-center gap-4 flex-1"},E={class:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-semibold text-lg"},G={class:"flex-1 min-w-0"},Q={class:"flex items-center gap-3 flex-wrap"},H={class:"text-lg font-semibold text-gray-900"},I={class:"mt-1 space-y-1"},J={key:0,class:"text-sm text-gray-500"},K={key:1,class:"text-sm text-gray-500"},R={key:0,class:"mt-2"},W={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-full"},X={class:"text-right"},Y={class:"text-sm text-gray-500"},Z={key:1,class:"px-6 py-12 text-center text-gray-500"},tt={class:"text-sm mt-1"},et={key:2,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},at={class:"text-sm text-gray-700"},st={class:"flex gap-2"},ot=["disabled"],nt={class:"px-4 py-2 text-sm font-medium text-gray-700"},rt=["disabled"],gt={__name:"Contacts",props:{contacts:Array,pagination:Object,filters:Object,auth:Object},setup(e){const l=w(e.filters?.search||""),p=n=>n?new Date(n).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A";let d=null;const b=n=>{d&&clearTimeout(d),d=setTimeout(()=>{m.get("/admin/contacts",{search:n},{preserveState:!0,replace:!0})},500)};_(l,n=>{b(n)});const v=n=>{n.preventDefault(),d&&clearTimeout(d),m.get("/admin/contacts",{search:l.value},{preserveState:!0,replace:!0})},x=n=>{m.get("/admin/contacts",{search:l.value,page:n},{preserveState:!0})};return(n,a)=>(i(),r(f,null,[c(y(k),{title:"Contacts - Admin"}),c(B,{user:e.auth?.user,title:"Contacts Management"},{default:h(()=>[t("div",M,[t("div",z,[t("div",A,[a[4]||(a[4]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Contacts"),t("p",{class:"mt-2 text-gray-600"},"Manage all platform contacts")],-1)),c(y(C),{href:"/admin/dashboard",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:h(()=>[...a[3]||(a[3]=[j(" â† Back to Dashboard ",-1)])]),_:1})]),t("div",V,[t("form",{onSubmit:S(v,["prevent"]),class:"flex gap-4"},[t("div",O,[D(t("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),type:"text",placeholder:"Search contacts by name, email, or phone...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[N,l.value]])]),a[5]||(a[5]=t("button",{type:"submit",class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"}," Search ",-1))],32)]),t("div",P,[t("div",U,[a[6]||(a[6]=t("h2",{class:"text-lg font-semibold text-gray-900"}," All Contacts ",-1)),t("span",$," Showing "+o(e.pagination?.from||0)+" to "+o(e.pagination?.to||0)+" of "+o(e.pagination?.total||0)+" contacts ",1)]),e.contacts&&e.contacts.length>0?(i(),r("div",q,[(i(!0),r(f,null,T(e.contacts,s=>(i(),r("div",{key:s.id,class:"px-6 py-4 hover:bg-gray-50 transition-colors"},[t("div",F,[t("div",L,[t("div",E,o(s.name?s.name.charAt(0).toUpperCase():"C"),1),t("div",G,[t("div",Q,[t("p",H,o(s.name||"Unnamed Contact"),1),t("span",{class:u(["px-2 py-1 text-xs font-medium rounded-full",s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"])},o(s.status||"inactive"),3)]),t("div",I,[s.email?(i(),r("p",J,o(s.email),1)):g("",!0),s.phone?(i(),r("p",K,o(s.phone),1)):g("",!0)]),s.organization?(i(),r("div",R,[t("span",W,o(s.organization.name),1)])):g("",!0)])]),t("div",X,[t("p",Y," Created: "+o(p(s.created_at)),1)])])]))),128))])):(i(),r("div",Z,[a[7]||(a[7]=t("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),a[8]||(a[8]=t("p",{class:"text-lg font-medium"},"No contacts found",-1)),t("p",tt,o(l.value?"Try adjusting your search query":"Contacts will appear here once they are created"),1)])),e.pagination&&e.pagination.last_page>1?(i(),r("div",et,[t("div",at," Showing "+o(e.pagination.from)+" to "+o(e.pagination.to)+" of "+o(e.pagination.total)+" results ",1),t("div",st,[t("button",{onClick:a[1]||(a[1]=s=>x(e.pagination.current_page-1)),disabled:e.pagination.current_page===1,class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",e.pagination.current_page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])}," Previous ",10,ot),t("span",nt," Page "+o(e.pagination.current_page)+" of "+o(e.pagination.last_page),1),t("button",{onClick:a[2]||(a[2]=s=>x(e.pagination.current_page+1)),disabled:e.pagination.current_page===e.pagination.last_page,class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",e.pagination.current_page===e.pagination.last_page?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])}," Next ",10,rt)])])):g("",!0)])])])]),_:1},8,["user"])],64))}};export{gt as default};
