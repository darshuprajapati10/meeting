import{r as _,k,c as o,b as c,u as x,h as z,w as y,d as t,l as j,e as f,m as O,p as S,v as C,j as g,t as n,f as r,F as h,g as D,i as u,q as m}from"./app-DOfOraPl.js";import{_ as N}from"./AdminLayout-CA1Olbcj.js";const T={class:"py-8"},B={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"mb-8 flex items-center justify-between"},V={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"},A={class:"flex-1"},P={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},U={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},$={class:"text-sm text-gray-500"},q={key:0,class:"divide-y divide-gray-200"},F={class:"flex items-center justify-between"},H={class:"flex items-center gap-4 flex-1"},L={class:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold text-lg"},E={class:"flex-1 min-w-0"},G={class:"flex items-center gap-3 flex-wrap"},Q={class:"text-lg font-semibold text-gray-900"},I={key:0,class:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full"},J={key:0,class:"text-sm text-gray-500 mt-1"},K={class:"flex items-center gap-4 mt-2"},R={class:"text-sm text-gray-600"},W={class:"font-medium"},X={class:"text-right"},Y={class:"text-sm text-gray-500"},Z={key:1,class:"px-6 py-12 text-center text-gray-500"},tt={class:"text-sm mt-1"},et={key:2,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},at={class:"text-sm text-gray-700"},st={class:"flex gap-2"},nt=["disabled"],it={class:"px-4 py-2 text-sm font-medium text-gray-700"},ot=["disabled"],gt={__name:"Organizations",props:{organizations:Array,pagination:Object,filters:Object,auth:Object},setup(e){const l=_(e.filters?.search||""),b=i=>i?new Date(i).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A";let d=null;const v=i=>{d&&clearTimeout(d),d=setTimeout(()=>{m.get("/admin/organizations",{search:i},{preserveState:!0,replace:!0})},500)};k(l,i=>{v(i)});const w=i=>{i.preventDefault(),d&&clearTimeout(d),m.get("/admin/organizations",{search:l.value},{preserveState:!0,replace:!0})},p=i=>{m.get("/admin/organizations",{search:l.value,page:i},{preserveState:!0})};return(i,a)=>(r(),o(h,null,[c(x(z),{title:"Organizations - Admin"}),c(N,{user:e.auth?.user,title:"Organizations Management"},{default:y(()=>[t("div",T,[t("div",B,[t("div",M,[a[4]||(a[4]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Organizations"),t("p",{class:"mt-2 text-gray-600"},"Manage all platform organizations")],-1)),c(x(j),{href:"/admin/dashboard",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:y(()=>[...a[3]||(a[3]=[f(" â† Back to Dashboard ",-1)])]),_:1})]),t("div",V,[t("form",{onSubmit:O(w,["prevent"]),class:"flex gap-4"},[t("div",A,[S(t("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),type:"text",placeholder:"Search organizations by name or email...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[C,l.value]])]),a[5]||(a[5]=t("button",{type:"submit",class:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium"}," Search ",-1))],32)]),t("div",P,[t("div",U,[a[6]||(a[6]=t("h2",{class:"text-lg font-semibold text-gray-900"}," All Organizations ",-1)),t("span",$," Showing "+n(e.pagination?.from||0)+" to "+n(e.pagination?.to||0)+" of "+n(e.pagination?.total||0)+" organizations ",1)]),e.organizations&&e.organizations.length>0?(r(),o("div",q,[(r(!0),o(h,null,D(e.organizations,s=>(r(),o("div",{key:s.id,class:"px-6 py-4 hover:bg-gray-50 transition-colors"},[t("div",F,[t("div",H,[t("div",L,n(s.name?s.name.charAt(0).toUpperCase():"O"),1),t("div",E,[t("div",G,[t("p",Q,n(s.name||"Unnamed Organization"),1),t("span",{class:u(["px-2 py-1 text-xs font-medium rounded-full",s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"])},n(s.status||"inactive"),3),s.type?(r(),o("span",I,n(s.type),1)):g("",!0),s.subscription_plan?(r(),o("span",{key:1,class:u(["px-2 py-1 text-xs font-medium rounded-full",s.subscription_plan.name==="pro"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"])},n(s.subscription_plan.display_name)+" Plan ",3)):g("",!0)]),s.email?(r(),o("p",J,n(s.email),1)):g("",!0),t("div",K,[t("span",R,[t("span",W,n(s.user_count||0),1),a[7]||(a[7]=f(" users ",-1))])])])]),t("div",X,[t("p",Y," Created: "+n(b(s.created_at)),1)])])]))),128))])):(r(),o("div",Z,[a[8]||(a[8]=t("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),a[9]||(a[9]=t("p",{class:"text-lg font-medium"},"No organizations found",-1)),t("p",tt,n(l.value?"Try adjusting your search query":"Organizations will appear here once they are created"),1)])),e.pagination&&e.pagination.last_page>1?(r(),o("div",et,[t("div",at," Showing "+n(e.pagination.from)+" to "+n(e.pagination.to)+" of "+n(e.pagination.total)+" results ",1),t("div",st,[t("button",{onClick:a[1]||(a[1]=s=>p(e.pagination.current_page-1)),disabled:e.pagination.current_page===1,class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",e.pagination.current_page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])}," Previous ",10,nt),t("span",it," Page "+n(e.pagination.current_page)+" of "+n(e.pagination.last_page),1),t("button",{onClick:a[2]||(a[2]=s=>p(e.pagination.current_page+1)),disabled:e.pagination.current_page===e.pagination.last_page,class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",e.pagination.current_page===e.pagination.last_page?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])}," Next ",10,ot)])])):g("",!0)])])])]),_:1},8,["user"])],64))}};export{gt as default};
